
<div ng-controller="ResultsController"> <!-- !!NECESSARY!! CONNECT TO THE RESULTS CONTROLLER  -->
  <div id="filterOptions" class="col-xs-3">
    <p>Music Genre</p>
    <a href="#/results" ng-click="setCurrentGenre(all)">All</a>
    <div ng-repeat="(key,value) in genresSwap">
      <a href="#/results" ng-click="setCurrentGenre(key)">{{key}}</a>
    </div>
  </div> <!--  end of col-sm-4 -->


  <div class="col-xs-9">
    <div ng-repeat="event in apiData  | filter:currentGenre"> 
      <!-- GET ALL THE EVENT INFO FROM THE DATAAPI OBJECT IN THE RESULTS CONTROLLER -->
      <div style="margin-top:20px;" >
        <div class="col-xs-3" style="background-color:white;">
          <a ng-click="selectedEvent(event)"><img ng-src="{{event.logo.url}}" class="img-responsive" width="200px" height="162px" /></a> <!-- EVENT IMAGE -->
        </div> <!-- end of col-xs-3 --> 

        <div class="col-xs-9">
          <h4 ng-click="selectedEvent(event)" style="pointer">{{event.name.text}}</h4> <!-- NAME OF THE EVENT -->
          <ul>
            <!-- Minified event desrciption -->
            <li>{{event.description.text.slice(0,100)}}</li> 
            <li><span style="color:grey">date:</span> {{event.start.local.slice(0,10)}}</li>
            <!-- COST OF THE EVENT  -->
            <!-- <li>{{event.description.price | currency}}</li>  -->
            <!-- LINK TO PURCHASE TICKETS -->
            <li><a ng-href="{{event.url}}">buy tickets</a></li> 
            <li>{{genres[event.subcategory_id]}}</li>
          </ul>
        </div><!-- end of col-xs-9 -->

      </div>  <!-- end of row -->
    </div> <!-- end of event in apiData--> 
  </div>
  </div><!-- end of ResultsController -->